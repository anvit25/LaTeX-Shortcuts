\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsthm}
\usepackage{amsfonts}
\usepackage{mathrsfs}
\usepackage{mathtools}
\usepackage{physics}

% Number sets
\newcommand{\N}{\mathbb{N}}
\newcommand{\R}{\mathbb{R}}
\newcommand{\Q}{\mathbb{Q}}
\newcommand{\Z}{\mathbb{Z}}

% Probability shortcuts
\newcommand{\G}{\mathcal G}
\newcommand{\Fsig}{\mathcal F}
\newcommand{\B}{\mathcal{B}} % Borel sigma algebra
\newcommand{\E}{\mathbb{E}}
\newcommand{\pr}{\mathbb{P}}
\newcommand{\F}{\mathscr{F}}
\newcommand{\Var}{\mathrm{Var}}
\newcommand{\Cov}{\mathrm{Cov}}
\newcommand{\Bias}{\mathrm{Bias}}
\newcommand{\indep}{\perp \!\!\! \perp}
\newcommand{\eqd}{\overset{\mathcal D}{=}}
\newcommand{\convd}{\overset{\mathcal D}{\longrightarrow}}
\newcommand{\convas}{\overset{a.s.}{\longrightarrow}}
\newcommand{\convp}{\overset{\pr}{\longrightarrow}}
\newcommand{\iid}{\overset{iid}{\sim}}
\newcommand{\ddfrac}[2]{\frac{\displaystyle #1}{\displaystyle #2}}
% https://tex.stackexchange.com/questions/713353/specialize-behaviors-of-super-and-subscript-for-self-defined-commands/713355?noredirect=1#comment1772997_713355
\NewDocumentCommand{\expec}{e{_^}m}{%
    \mathbb{E}%
    \IfNoValueF{#1}{_{#1}}%
    \IfNoValueF{#2}{^{#2}}%
    \sqbrackets{#3}
}
\NewDocumentCommand{\expectwo}{e{_^}m}{%
    \mathbb{E}%
    \IfNoValueF{#1}{_{#1}}%
    \IfNoValueF{#2}{^{#2}}%
    \sqbrackets{\parenthesis{#3}^2}
}
\NewDocumentCommand{\conde}{e{_^}mm}{%
    \mathbb{E}%
    \IfNoValueF{#1}{_{#1}}%
    \IfNoValueF{#2}{^{#2}}%
    \sqbrackets{#3\mid #4}
}

% Brackets
\newcommand{\parenthesis}[1]{\left(#1\right)}
\newcommand{\sqbrackets}[1]{\left[#1\right]}
\newcommand{\curly}[1]{\left\{#1\right\}}
\newcommand{\inner}[2]{\langle#1,#2\rangle}
\newcommand{\argmod}[2]{\underset{#2}{\arg \, #1}}

\renewcommand{\O}{\mathcal{O}}
\newcommand{\I}{\mathbb I}
\newcommand{\one}{\mathbf 1}